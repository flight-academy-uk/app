---
import { Image } from 'astro:assets';
import LightSwitch from '../components/LightSwitch.svelte';
import ControlFlipper from '../components/ControlFlipper.svelte';
import Logo from '../images/logo.svg';
---

<style>
  input[id="navigation-bar"]:checked ~ #navigation{
    transform: translateY(0);
  }
  

  input[id="navigation-search"]:checked ~ #search-bar{
    transform: translateY(0);
  }
</style>

<nav class="flex items-center flippable-row justify-between w-full bg-primary-200 p-4 font-playwrite text-lg text-center text-tertiary-700 dark:bg-tertiary-700 dark:text-white">
  <!-- Logo -->
  <a href="/" class="flex items-center select-none">
    <Image src={Logo} alt="" width={32} height={32} class="mr-2"/>
    <span id="test">Flight Academy</span>
  </a>
  <!-- Overlay Close Input Control -->
  <input type="radio" id="navigation-close" name="navigation" class="hidden"/>
  <!-- Search -->
  <div class="flex flippable-row">
    <input type="radio" class="hidden" id="navigation-search" name="navigation"/>
    <label for="navigation-search" class="cursor-pointer px-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="fill-tertiary-700 dark:fill-white" width="24" height="24" viewBox="0 0 16 16">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
      </svg>  
    </label>
    <!-- [SEARCH OVERLAY] -->
    <label for="navigation-close"
      id="search-bar"
      class="py-2 px-4 font-noto overflow-y-hidden fixed bg-primary-400 dark:bg-tertiary-900 dark:text-white text-black h-svh w-full top-0 left-0 -translate-y-full transition-transform duration-300 ease-in-out bg-none z-50" 
    >
      <div class="h-svh flex flex-col justify-evenly items-center">
        <form method="POST" class="flex justify-center items-center gap-x-2 gap-y-4">          
          <input placeholder="Search" class="p-3 rounded-lg text-white placeholder-primary-300 focus:bg-secondary-700 ring-secondary-700 bg-secondary-600 shadow-lg"/>
          <button class="p-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-secondary-600" width="32" height="32" viewBox="0 0 16 16">
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
            </svg> 
          </button>
        </form>
      </div>
    </label>
    <!-- Hamburger -->
    <input type="radio" class="hidden" id="navigation-bar" name="navigation" />
    <label for="navigation-bar" class="cursor-pointer px-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="fill-tertiary-700 dark:fill-white" width="24" height="24" viewBox="0 0 16 16">
        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
      </svg>  
    </label> 
    <!-- [NAVIGATION OVERLAY] -->
    <label 
      class="fixed font-noto overflow-y-scroll flex h-svh w-full top-0 left-0 -translate-y-full transition-transform duration-300 ease-in-out bg-primary-400 dark:bg-tertiary-900 dark:text-white text-black z-50" 
      id="navigation"
      for="navigation-close"
    > 
      <div class="flex flex-col w-full py-10 justify-between">
        <div class="flex flippable-row justify-between px-8 pb-10">
          <Image src={Logo} alt="" width={32} height={32} />
        <label for="navigation-close" class="block cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
            <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
          </svg>
        </label>
        <span class="sr-only">Close Menu</span>
        </div>
        <div class="flex flex-col justify-start h-full space-y-4 px-12 py-4">
          <a href="/find-out-more" class="flex justify-between md:justify-around items-center py-2">
            <span class="w-20">Product</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
            </svg>
          </a>
          <a href="/guides" class="flex justify-between md:justify-around items-center py-2">
            <span class="w-20">Guides</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
            </svg>
          </a>
          <a href="/contact-us" class="flex justify-between md:justify-around items-center py-2">
            <span class="w-20">Contact</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
            </svg>
          </a>
          <div class="flex justify-center py-10">
            <a href="/contact-us" class="flex w-full justify-center max-w-64 items-center h-10 line-m py-3 px-5 text-xl font-medium text-white rounded-lg bg-secondary-600 hover:bg-secondary-700 focus:ring-4 focus:ring-secondary-400">
              Get started
            </a>
          </div>
        </div>
        <div class="flex justify-evenly">
          <LightSwitch client:visible />
          <ControlFlipper client:visible />
        </div>
      </div>
    </label>
  </div>
</nav>